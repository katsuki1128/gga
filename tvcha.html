<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport"
    content="width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no">

  <title>GGA2023tvcha</title>

  <!-- CSS & Tailwind -->
  <!-- <link rel="stylesheet" href="css/reset.css" /> -->
  <link rel="stylesheet" href="css/style.css" />
  <script src="https://cdn.tailwindcss.com"></script>

</head>

<body>
  <!----------------------------------------------
    â­ï¸ã‚¿ã‚¤ãƒˆãƒ«
    ------------------------------------------------->

  <section id="header" class="bg-gray-200">
    <div class="flex flex-col items-center justify-center px-3 pt-3 pb-3 mx-auto">
      <div class="w-full bg-white rounded-lg shadow sm:max-w-3xl md:w-4/5 xl:p-0">
        <div class="p-3 space-y-4 md:space-y-6 sm:p-8">
          <div>
            <img class="w-full h-15 mr-2" src="./img/uretoru_logo.png" alt="logo" />
            <div class="text-center mt-4 mb-0 mx-0" id="contentDiv">
              <div class="text-left mb-1">
                <p class="text-lg">
                  â­ï¸Aãƒã‚µãƒ«/Bä¼Šè—¤èˆã‚¹ã‚¿ãƒ³ãƒ—ã§å¿œæ´
                </p>
                <p class="text-lg">
                  â­ï¸ã‚¹ã‚¿ãƒ³ãƒ—ãŒãƒ†ãƒ¬ãƒ“ã«é£›ã‚“ã§ã„ãã‚ˆ
                </p>
                <p class="text-lg">
                  â­ï¸éŸ³å£°ãŒå‡ºã¾ã™â™ª
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="stampWrapper">
    <!----------------------------------------------
    â­ï¸ã‚¹ã‚¿ãƒ³ãƒ—è¡¨ç¤ºã‚¨ãƒªã‚¢
    ------------------------------------------------->
    <div>
      <div id="stampListContainer" class="flex flex-wrap justify-between p-1">
      </div>
    </div>
  </section>
  <section id="stampCountWrapper" class="bg-gray-200">
    <div class="flex flex-col items-center justify-center px-3 pt-3 pb-3 mx-auto">
      <div class="w-full bg-white rounded-lg shadow sm:max-w-3xl md:w-4/5 xl:p-0">
        <div class="p-3" id="slot">
          <div class="mb-2 text-lg text-gray-700 font-medium text-center" id="thanks">
            â›‘ é€ã‚Œã‚‹ã‚¹ã‚¿ãƒ³ãƒ—ã¯ï¼‘æ—¥ï¼“å›ã§ã™ ğŸ˜Š
          </div>
          <div>
            <div class="dotted-circles-container">
              <div class="dotted-circle image-slot">1</div>
              <div class="dotted-circle image-slot">2</div>
              <div class="dotted-circle image-slot">3</div>
            </div>
          </div>
        </div>
      </div>

      <div class="flex flex-col items-center mt-2">
        <div class="my-2">
          <img src="./img/station_logo.png" alt="logo" class="w-32 h-auto" />
        </div>
        <div>
          <p class="text-xs">Â© FUKUOKA BROADCASTING SYSTEM CORP.</p>
        </div>
      </div>
  </section>


  <section>
    <div class="flex flex-col items-center justify-center">
      <div class="canvas-wrapper relative">
        <canvas id="overlay"></canvas>
      </div>
    </div>
  </section>




  <!----------------------------------------------
    â­ï¸å®Ÿéš›ã®UIã¸ã®ãƒªãƒ³ã‚¯
    ------------------------------------------------->
  <div>
    <a href="index.html">GGAç”¨UI

  </div>

  <script type="module">
    //------------------------------------------
    // â–¼firebaseãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¨javaScriptã‚’é€£æºã•ã›ã‚‹
    //------------------------------------------


    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-app.js";

    // firebase firestoreã¨ã‚„ã‚Šå–ã‚Šã‚’ã™ã‚‹è¨­å®š
    import {
      getFirestore,
      collection,
      addDoc,
      serverTimestamp,
      query,
      orderBy, //ãƒ‡ãƒ¼ã‚¿ã®ã‚½ãƒ¼ãƒˆ
      onSnapshot, // Firestore ä¸Šã«ä¿å­˜ã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
      doc,
      deleteDoc,
      updateDoc,
      getDocs,
      getDoc,
      increment,
    } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-firestore.js";

    // firebase storageã¨ã‚„ã‚Šå–ã‚Šã‚’ã™ã‚‹è¨­å®š
    import {
      getStorage,
      ref,
      uploadBytes,
      getDownloadURL,
    } from "https://www.gstatic.com/firebasejs/10.3.0/firebase-storage.js";

    // ã‚¦ã‚§ãƒ–ã‚¢ãƒ—ãƒªã®Firebaseã®è¨­å®š
    const firebaseConfig = {
      apiKey: "",
      authDomain: "tvcha-9cae7.firebaseapp.com",
      projectId: "tvcha-9cae7",
      storageBucket: "tvcha-9cae7.appspot.com",
      messagingSenderId: "866848033597",
      appId: "1:866848033597:web:c6887382eb14ee58351354",
    };

    // Firebaseã®åˆæœŸåŒ–
    const app = initializeApp(firebaseConfig);

    // Firebaseã‚¢ãƒ—ãƒªã¨Cloud Storageã®é€£æºã‚’åˆæœŸåŒ–ã—ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã™ã‚‹
    const storage = getStorage(app);

    // dbã«å¯¾ã—ã¦ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ ã‚„å–å¾—ãŒã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹
    const db = getFirestore(app);

    // ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®åå‰ã‚’å®šç¾©
    const collectionName = "gga";
    // const collectionUsernName = "alter-user";

    // ğŸ”½ ãƒ‡ãƒ¼ã‚¿å–å¾—æ¡ä»¶ã®æŒ‡å®šï¼ˆä»Šå›ã¯orderé †ã«ä¸¦ã³æ›¿ãˆã¦å–å¾—ï¼‰
    const q = query(collection(db, collectionName), orderBy("order", "desc"));

    //----------------------------------------
    // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚¹ã‚¿ãƒ³ãƒ—ã®URLã‚’æ ¼ç´ã™ã‚‹é…åˆ—
    //----------------------------------------
    let clickStamp = "";
    const clickStamps = [];
    const canvas = document.getElementById('overlay');
    const ctx = canvas.getContext('2d');
    const stamps = []; // ã‚¹ã‚¿ãƒ³ãƒ—ã®æƒ…å ±ã‚’ä¿æŒã™ã‚‹é…åˆ—

    //----------------------------------------
    // â–¼ã‚¹ã‚¿ãƒ³ãƒ—ã®ã‚¯ãƒªãƒƒã‚¯æ•°ã‚«ã‚¦ãƒ³ãƒˆ
    //----------------------------------------
    let AGroupCount = 0;
    let BGroupCount = 0;
    let totalCount = 0;
    let AGroupPercentage = 0;
    let BGroupPercentage = 0;

    // Aã‚°ãƒ«ãƒ¼ãƒ—ã¨Bã‚°ãƒ«ãƒ¼ãƒ—ã®IDã®ãƒªã‚¹ãƒˆ
    const AGroupIds = ['xrnvFgD3PCjestA64SGd', 'Sw077n0mreVj9exRh81f', 'hgGsPbYmVKtw1ZLxljcr', 'ZXxNNOE8iKsrg8x3UiZ8'];
    const BGroupIds = ['NgLy7OAjlR6b7LF3Bfmp', 'p1DmVCDLRcPBgpdGfTuY', 'gfYdaXfqBcumPyn5puV9', 'p5s07tA6fzySQYgkNyxf'];

    //----------------------------------------
    // ã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã‚’è¨ˆç®—ã™ã‚‹é–¢æ•°

    //----------------------------------------
    const calculateCountsAndPercentages = (docs) => {
      // ã‚«ã‚¦ãƒ³ãƒˆã‚’ãƒªã‚»ãƒƒãƒˆ
      AGroupCount = 0;
      BGroupCount = 0;
      totalCount = 0;

      // å„ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã‚«ã‚¦ãƒ³ãƒˆã‚’é›†è¨ˆã™ã‚‹
      docs.forEach((doc) => {
        const docId = doc.id;
        const docCount = doc.data().count || 0;

        if (AGroupIds.includes(docId)) {
          AGroupCount += docCount;
        }
        if (BGroupIds.includes(docId)) {
          BGroupCount += docCount;
        }
      });

      // åˆè¨ˆã‚«ã‚¦ãƒ³ãƒˆã¨ãƒ‘ãƒ¼ã‚»ãƒ³ãƒ†ãƒ¼ã‚¸ã‚’è¨ˆç®—
      totalCount = AGroupCount + BGroupCount;
      AGroupPercentage = (totalCount > 0) ? (AGroupCount / totalCount) * 100 : 0;
      BGroupPercentage = (totalCount > 0) ? (BGroupCount / totalCount) * 100 : 0;

      // çµæœã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›
      console.log('AGroupCount:', AGroupCount, 'BGroupCount:', BGroupCount);
      console.log('AGroupPercentage:', AGroupPercentage.toFixed(2), 'BGroupPercentage:', BGroupPercentage.toFixed(2));
    };


    //----------------------------------------
    // â–¼æœ€åˆã®ã‚¹ã‚¿ãƒ³ãƒ—ç”»åƒãƒ‡ãƒ¼ã‚¿ã®èª­ã¿è¾¼ã¿
    //----------------------------------------

    const initialSnapshot = await getDocs(q);
    // calculateCountsAndPercentages(initialSnapshot.docs);

    const initialArray = initialSnapshot.docs.map(doc => ({
      id: doc.id,
      data: doc.data(),
    }));

    const initialImageUrls = initialArray.map(doc => doc.data.img);



    // ãƒ‡ãƒ¼ã‚¿å–å¾—å‡¦ç†(ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¸Šã§ãƒ‡ãƒ¼ã‚¿ã®å¤‰æ›´ãŒç™ºç”Ÿã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°ã§ {} å†…ã®å‡¦ç†ã‚’å®Ÿè¡Œ)
    onSnapshot(q, (querySnapshot) => {
      querySnapshot.docChanges().forEach((change) => {
        if (change.type === "modified") {
          const stampURL = change.doc.data().img;

          displayImageInSlot(stampURL);

        }
      });
    });

    //----------------------------------------
    // â–¼ã‚¹ã‚¿ãƒ³ãƒ—ã‚’è¡¨ç¤ºã™ã‚‹é–¢æ•°
    //----------------------------------------

    const imageElements = [];

    const renderImages = () => {
      stampListContainer.innerHTML = '';

      initialImageUrls.forEach((imageUrl, index) => {
        const imageWrapper = document.createElement('div');
        imageWrapper.className = 'image-wrapper';

        const imageElement = document.createElement('img');
        imageElement.src = imageUrl;
        imageElement.className = 'image';
        imageElement.style.marginBottom = '8px';
        imageElements.push(imageElement)

        imageWrapper.appendChild(imageElement);

        stampListContainer.appendChild(imageWrapper);
      });
    }
    renderImages();

    // console.log("imageElements", imageElements);

    //----------------------------------------
    // â–¼ã‚¹ã‚¿ãƒ³ãƒ—ã‚¯ãƒªãƒƒã‚¯é–¢æ•°
    //----------------------------------------
    const stampClick = async (stampId) => {

      // Firebaseã®ã‚¯ãƒªãƒƒã‚¯æ•°ã‚’ä¸€ã¤å¢—ã‚„ã™
      await updateDoc(doc(db, collectionName, stampId), {
        count: increment(1)
      });
      // console.log("ã‚«ã‚¦ãƒ³ãƒˆãŒæ­£å¸¸ã«æ›´æ–°ã•ã‚Œã¾ã—ãŸã‚ˆã€‚");
    };
    //----------------------------------------
    // â–¼ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚¹ã‚¿ãƒ³ãƒ—ã®IDã‚’å–å¾—ã™ã‚‹é–¢æ•°
    //----------------------------------------
    let isSoundOn = true; // éŸ³å£°ã®ã‚ªãƒ³/ã‚ªãƒ•ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ãŸã‚ã®å¤‰æ•°
    let isClickDisabled = false; // ã‚¯ãƒªãƒƒã‚¯ç„¡åŠ¹ãƒ•ãƒ©ã‚°

    // ç”»åƒè¦ç´ ã«ã‚¯ãƒªãƒƒã‚¯ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãƒ¼ã‚’è¿½åŠ 
    imageElements.forEach((imageElement, index) => {
      imageElement.addEventListener('click', () => {

        // console.log(imageElement.src);

        // ã‚¯ãƒªãƒƒã‚¯ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¦ã„ã‚‹å ´åˆã¯å‡¦ç†ã‚’ã‚¹ã‚­ãƒƒãƒ—
        // if (isClickDisabled) return;

        const stampId = initialArray[index].id; // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®IDã‚’å–å¾—
        console.log(stampId);

        setTimeout(() => {
          stampClick(stampId);
        }, 1000);

        // ãƒœã‚¿ãƒ³ãŒæŠ¼ã•ã‚ŒãŸæ™‚ã®æŒ™å‹•
        imageElement.classList.add('clicked-image'); // ã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸã‚‰ 'clicked-image' ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
        // isClickDisabled = true; // ã‚¯ãƒªãƒƒã‚¯ã‚’ç„¡åŠ¹åŒ–

        setTimeout(() => {
          imageElement.classList.remove('clicked-image'); // ä¸€å®šæ™‚é–“çµŒéå¾Œã« 'clicked-image' ã‚¯ãƒ©ã‚¹ã‚’å‰Šé™¤
          // isClickDisabled = false; // ä¸€å®šæ™‚é–“å¾Œã«ã‚¯ãƒªãƒƒã‚¯ã‚’å†åº¦æœ‰åŠ¹ã«ã™ã‚‹
        }, 1000);

        //----------------------------------------
        // â–¼ã‚µã‚¦ãƒ³ãƒ‰ã®å†ç”Ÿ
        //----------------------------------------
        if (isSoundOn) {  // isSoundOnãŒtrueã®å ´åˆã®ã¿éŸ³å£°ã‚’å†ç”Ÿ
          playSound(stampId);
          // console.log(id)
        };
      });
    });

    //----------------------------------------
    // â–¼éŸ³å£°ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å†ç”Ÿã™ã‚‹é–¢æ•°
    //----------------------------------------


    const playSound = (id) => {
      // const AGroupIds = ['Sw077n0mreVj9exRh81f', 'xrnvFgD3PCjestA64SGd', 'ZXxNNOE8iKsrg8x3UiZ8', 'hgGsPbYmVKtw1ZLxljcr'];
      // const BGroupIds = ['p1DmVCDLRcPBgpdGfTuY', 'NgLy7OAjlR6b7LF3Bfmp', 'xrnvFgD3PCjestA64SGd', 'gfYdaXfqBcumPyn5puV9'];
      const audioSet = {
        [AGroupIds[0]]: './sound/a1.mp3',
        [AGroupIds[1]]: './sound/a2.mp3',
        [AGroupIds[2]]: './sound/a3.mp3',
        [AGroupIds[3]]: './sound/a4.mp3',
        [BGroupIds[0]]: './sound/b1.mp3',
        [BGroupIds[1]]: './sound/b2.mp3',
        [BGroupIds[2]]: './sound/b3.mp3',
        [BGroupIds[3]]: './sound/b4.mp3',
      };

      const audioPath = audioSet[id] || './img/default.mp3'; // idãŒå­˜åœ¨ã—ãªã„å ´åˆã®ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆéŸ³å£°
      const audio = new Audio(audioPath);
      // console.log(audio)
      audio.play();
    };

    //----------------------------------------
    // â–¼ã‚¹ã‚¿ãƒ³ãƒ—ã‚’ã‚¯ãƒªãƒƒã‚¯ã§ããªãã™ã‚‹é–¢æ•°
    //----------------------------------------

    const addNeverClickableClass = () => {
      const targetElements = document.querySelectorAll('.image');
      // console.log(targetElements);
      targetElements.forEach((targetElement) => {
        targetElement.classList.add('never-clickable');
      });
    };
    //----------------------------------------
    // â–¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºã™ãƒ­ã‚¸ãƒƒã‚¯ã¨é–¢æ•°
    //----------------------------------------

    const displayMessage = (targetPrefix, currentCount) => {
      // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®é…åˆ—
      const aMessages = [
        `${currentCount}å›ã‚‚é€ã£ã¦ãã‚Œã¦ã€ãŠã„ã•ã‚“ã†ã‚Œã—ã‹â›‘ï¼ï¼`,
        `ä»Šã®ã§${currentCount}å€‹ç›®ã°ã„â›‘!å¬‰ã—ã‹ï¼`,
        `ãŠã„ã•ãƒ¼â›‘ï¼ã„ã„æ„Ÿã˜ï¼${currentCount}å€‹ç›®ï¼`,
        `${currentCount}å›é€ã£ã¦ãã‚ŒãŸã°ã„â›‘ï¼`,
        "å¿œæ´ã‚ã‚ŠãŒã¨ã•ã‚“â›‘â›‘ï¼ï¼"
      ];

      const bMessages = [
        `${currentCount}å›ã‚‚é€ã£ã¦ãã‚Œã¦ã€å¬‰ã—ã„ã§ã™ï¼ï¼`,
        `ã¾ã„ã•ãƒ¼ï¼${currentCount}å€‹ğŸ¥¹ã‚ã‚ŠãŒã¨ã†ï¼`,
        `${currentCount}å›é€ã£ã¦ãã‚Œã¾ã—ãŸâ£ï¸`,
        "å¿œæ´ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ï¼ï¼"
      ];

      let messages = targetPrefix === 'b' ? aMessages : bMessages;
      // console.log(targetPrefix);

      // 10%ã®ç¢ºç‡ã§trueã‚’è¿”ã™
      const shouldShowMessage = () => Math.random() < 0.3;

      // ã‚«ã‚¦ãƒ³ãƒˆãŒãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤ºã™ã¹ãã‹ã©ã†ã‹ã‚’åˆ¤æ–­
      if (shouldShowMessage()) {
        const randomMessage = messages[Math.floor(Math.random() * messages.length)];
        document.getElementById('thanks').innerText = randomMessage;
        // console.log(randomMessage);
        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸è¡¨ç¤ºã®å›æ•°ã‚’ä¿å­˜
        localStorage.setItem('lastMessageShownCount', currentCount);
        // console.log("currentCount (message shown):", currentCount);
      } else {
        const lastMessageShownCount = parseInt(localStorage.getItem('lastMessageShownCount') || "0");

        // ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã¦ã‹ã‚‰5å›ä»¥ä¸Šã‚¯ãƒªãƒƒã‚¯ã•ã‚ŒãŸå ´åˆã€ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‰Šé™¤
        if (currentCount - lastMessageShownCount > 5) {
          document.getElementById('thanks').innerText = "â›‘ã”å‚åŠ ã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™ğŸ˜Š";
        }
        // console.log("currentCount:", currentCount);
      }
    }

    //----------------------------------------
    // â–¼ç‚¹ç·šã®ä¸¸ã®å¹…ã‚’è¨­å®š
    //----------------------------------------
    let circleSize = 110; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ã‚µã‚¤ã‚º
    let circleMargin = 10; // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã®ãƒãƒ¼ã‚¸ãƒ³

    const adjustDottedCircleSize = () => {

      const deviceWidth = window.innerWidth;
      const itemWidth = (deviceWidth - 48) / 3;

      let newSize = circleSize;
      let newMargin = circleMargin;

      if (itemWidth < (circleSize + 2 * circleMargin)) {
        newSize = itemWidth * 0.9;
        newMargin = itemWidth * 0.05;
      }

      // console.log("itemWidth", itemWidth, "circleSize", newSize)

      document.querySelectorAll('.dotted-circle').forEach(circle => {
        circle.style.width = `${newSize}px`;
        circle.style.height = `${newSize}px`;
        circle.style.marginLeft = `${newMargin}px`;
        circle.style.marginRight = `${newMargin}px`;

      });
    };
    adjustDottedCircleSize();
    // ãƒ–ãƒ©ã‚¦ã‚¶ã®ãƒªã‚µã‚¤ã‚ºã‚¤ãƒ™ãƒ³ãƒˆã«å¿œã˜ã¦èª¿æ•´
    window.addEventListener('resize', adjustDottedCircleSize);


    //----------------------------------------
    // â–¼ã‚¯ãƒªãƒƒã‚¯ã—ãŸç”»åƒã®è¡¨ç¤ºé–¢æ•°
    //----------------------------------------

    const displayImageInSlot = (stampURL, circleSize) => {
      // ç”»åƒã®srcã‚’çµ„ã¿ç«‹ã¦ã‚‹
      const src = stampURL;

      // æœ€åˆã®ç©ºã®.image-slotã‚’é¸æŠ
      const slot = document.querySelector('.image-slot');

      if (slot) {
        // imgè¦ç´ ã‚’ä½œæˆã—ã¦ã€srcå±æ€§ã‚’è¨­å®š
        const img = document.createElement('img');
        img.src = src;
        img.style.width = `${circleSize}px`;    // ç”»åƒã®ã‚µã‚¤ã‚ºã‚’æŒ‡å®š
        img.style.height = `${circleSize}px`;   // ç”»åƒã®ã‚µã‚¤ã‚ºã‚’æŒ‡å®š
        img.classList.add('fade-in'); // ãƒ•ã‚§ãƒ¼ãƒ‰ã‚¤ãƒ³ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¯ãƒ©ã‚¹ã‚’è¿½åŠ 
        // console.log(img.style.width);

        // ç¾åœ¨ã®å†…å®¹ (æ•°å­—) ã‚’ã‚¯ãƒªã‚¢ã—ã¦ç”»åƒã‚’è¿½åŠ 
        slot.innerHTML = "";
        slot.appendChild(img);

        // .image-slotã‚¯ãƒ©ã‚¹ã‚’å–ã‚Šé™¤ã
        slot.classList.remove("image-slot", "coin-design");
        slot.classList.add("dotted-circle");
      }
    };

    //----------------------------------------
    // â–¼ãƒ€ãƒ–ãƒ«ã‚¯ãƒªãƒƒã‚¯ã•ã‚Œãªã„ã‚ˆã†ã«ã™ã‚‹é–¢æ•°
    //----------------------------------------

    document.addEventListener('dblclick', function (e) {
      e.preventDefault();
    });



  </script>
</body>

</html>